(()=>{"use strict";var t={273:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AStarFrontier=void 0;const r=n(22),o=n(607);class s extends r.Frontier{constructor(t){super(),this.goal=t}remove(){if(!this.empty()){let t=-1,e=this.frontier[0],n=1/0;for(let r=this.frontier.length-1;r>=0;r--)(0,o.manhattanDistance)(this.frontier[r].state,this.goal)+this.countParents(this.frontier[r])<n&&(n=(0,o.manhattanDistance)(this.frontier[r].state,this.goal)+this.countParents(this.frontier[r]),e=this.frontier[r],t=r);return this.frontier.splice(t,1),e}}countParents(t){let e=0;for(;null!=t.parent;)e++,t=t.parent;return e}}e.AStarFrontier=s},22:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Frontier=void 0,e.Frontier=class{constructor(){this.frontier=[]}add(t){this.frontier.push(t)}containsState(t){for(let e=0;e<this.frontier.length;e++)if(JSON.stringify(this.frontier[e].state)==JSON.stringify(t))return!0;return!1}empty(){return 0==this.frontier.length}remove(){throw new Error("Remove method not implemented")}}},429:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GreedyFrontier=void 0;const r=n(22),o=n(607);class s extends r.Frontier{constructor(t){super(),this.goal=t}remove(){if(!this.empty()){let t=-1,e=this.frontier[0],n=1/0;for(let r=0;r<this.frontier.length;r++)(0,o.manhattanDistance)(this.frontier[r].state,this.goal)<n&&(n=(0,o.manhattanDistance)(this.frontier[r].state,this.goal),e=this.frontier[r],t=r);return this.frontier.splice(t,1),e}}}e.GreedyFrontier=s},911:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QueueFrontier=void 0;const r=n(22);class o extends r.Frontier{constructor(){super()}remove(){return this.frontier.length?this.frontier.shift():void 0}}e.QueueFrontier=o},802:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StackFrontier=void 0;const r=n(22);class o extends r.Frontier{constructor(){super()}remove(){return this.frontier.length?this.frontier.pop():void 0}}e.StackFrontier=o},607:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function a(t){try{l(r.next(t))}catch(t){s(t)}}function i(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,i)}l((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.manhattanDistance=void 0;const o=n(561),s=n(429),a=n(911),i=n(802),l=n(273),c=document.getElementById("container"),d=document.getElementById("solve"),u=document.getElementById("pathfinding-algorithm"),f=document.getElementById("setgoal"),m=document.getElementById("setstart"),h=document.getElementById("addwalls"),v=document.getElementById("reset");if(!c)throw new Error("Container not found");if(!d)throw new Error("Solve button not found");if(!u)throw new Error("Pathfinding menu not found");if(!f)throw new Error("Set goal button not found");if(!m)throw new Error("Set start button not found");if(!h)throw new Error("Add walls button not found");if(!v)throw new Error("Reset button not found");const g=Math.floor(window.innerHeight/30),p=Math.floor(window.innerWidth/30);let y=[],E="",N=[Math.floor(g/2),Math.floor(.75*p)],w=[Math.floor(g/2),Math.floor(.25*p)],b=!1,$=!1,I=!1,x=!1,B=!1,S=!1;function F(t){let e=[];return t[1]-1>=0&&3!=y[t[0]][t[1]-1]&&e.push([t[0],t[1]-1]),t[1]+1<p&&3!=y[t[0]][t[1]+1]&&e.push([t[0],t[1]+1]),t[0]+1<g&&3!=y[t[0]+1][t[1]]&&e.push([t[0]+1,t[1]]),t[0]-1>=0&&3!=y[t[0]-1][t[1]]&&e.push([t[0]-1,t[1]]),e}function C(t,e){for(let n=0;n<t.length;n++)if(JSON.stringify(t[n])==JSON.stringify(e))return!0;return!1}function M(t){return new Promise((e=>setTimeout(e,t)))}function L(t){d.disabled=t,m.disabled=t,f.disabled=t,u.disabled=t,b=!1,$=!1,f.className="",m.className=""}function _(){let t=document.querySelectorAll(".explored");for(let e=0;e<t.length;e++)t[e].classList.remove("explored");for(let t=0;t<y.length;t++)for(let e=0;e<y[t].length;e++)4==y[t][e]&&(y[t][e]=0)}function O(){y[w[0]][w[1]]=2,y[N[0]][N[1]]=1,document.getElementById(`C${w[0]}-${w[1]}`).className="startcell",document.getElementById(`C${N[0]}-${N[1]}`).className="finishcell"}function P(){let t=document.querySelectorAll(".explored");for(let e=0;e<t.length;e++)t[e].className="notfound"}document.addEventListener("contextmenu",(t=>{t.preventDefault()})),c.onmousedown=function(){return!1},c.addEventListener("mousedown",(t=>{const e=t.target.closest("td");if(!e)return;const n=[e.parentElement.rowIndex,e.cellIndex];1==t.buttons?(B=!0,I&&0==y[n[0]][n[1]]&&(y[n[0]][n[1]]=3,document.getElementById(`C${n[0]}-${n[1]}`).className="wall")):2==t.buttons&&(S=!0,3==y[n[0]][n[1]]&&I&&(document.getElementById(`C${n[0]}-${n[1]}`).className="",y[n[0]][n[1]]=0))})),document.addEventListener("mouseup",(t=>{0==t.button?B=!1:2==t.button&&(S=!1)})),c.addEventListener("mouseover",(t=>{const e=t.target.closest("td");if(!e)return;const n=[e.parentElement.rowIndex,e.cellIndex];I&&(B&&0==y[n[0]][n[1]]?(y[n[0]][n[1]]=3,document.getElementById(`C${n[0]}-${n[1]}`).className="wall"):S&&3==y[n[0]][n[1]]&&(document.getElementById(`C${n[0]}-${n[1]}`).className="",y[n[0]][n[1]]=0))})),c.addEventListener("click",(t=>{const e=t.target.closest("td");if(!e)return;const n=[e.parentElement.rowIndex,e.cellIndex];b&&0==y[n[0]][n[1]]?(document.getElementById(`C${N[0]}-${N[1]}`).className="",N=n,document.getElementById(`C${N[0]}-${N[1]}`).className="finishcell"):$&&0==y[n[0]][n[1]]&&(document.getElementById(`C${w[0]}-${w[1]}`).className="",w=n,document.getElementById(`C${w[0]}-${w[1]}`).className="startcell")})),v.addEventListener("click",(()=>{x=!0,_(),O(),function(){let t=document.querySelectorAll(".notfound");for(let e=0;e<t.length;e++)t[e].classList.remove("notfound")}()})),m.addEventListener("click",(()=>{$?(m.style.backgroundColor="",$=!1):!b||$||I?b||$||!I?(m.className="activated-button",$=!0):(m.className="activated-button",$=!0,h.className="",I=!1):(m.className="activated-button",$=!0,f.className="",b=!1)})),f.addEventListener("click",(()=>{b?(f.className="",b=!1):!$||b||I?$||b||!I?(f.className="activated-button",b=!0):(f.className="activated-button",b=!0,h.className="",I=!1):(f.className="activated-button",b=!0,m.className="",$=!1)})),h.addEventListener("click",(()=>{I?(h.className="",I=!1):!$||b||I?$||!b||I?(h.className="activated-button",I=!0):(h.className="activated-button",I=!0,f.className="",b=!1):(h.className="activated-button",I=!0,m.className="",$=!1)})),document.addEventListener("DOMContentLoaded",(()=>{for(let t=0;t<g;t++){y.push([]),E+="<tr>";for(let e=0;e<p;e++)t==N[0]&&e==N[1]?y[t].push(1):t==w[0]&&e==w[1]?y[t].push(2):y[t].push(0),E+=`<td id="C${[t+"-"+e]}"></td>`;E+="</tr>"}c.innerHTML=E,document.getElementById(`C${w[0]}-${w[1]}`).className="startcell",document.getElementById(`C${N[0]}-${N[1]}`).className="finishcell"})),d.addEventListener("click",(()=>{!function(){r(this,void 0,void 0,(function*(){L(!0);let t=new a.QueueFrontier;"bfs"==u.value?t=new a.QueueFrontier:"dfs"==u.value?t=new i.StackFrontier:"gbfs"==u.value?t=new s.GreedyFrontier(N):"astar"==u.value&&(t=new l.AStarFrontier(N)),t.add(new o.Nodes(w,null,null));let e=[],n=[];for(;;){if(x)return _(),O(),x=!1,void L(!1);if(t.empty())return P(),L(!1),null;let r=t.remove();if(JSON.stringify(r.state)==JSON.stringify(N)){for(L(!1);null!=r.parent;)e.push(r.state),document.getElementById(`C${r.state[0]}-${r.state[1]}`).classList.add("found"),r=r.parent;return null}0==y[r.state[0]][r.state[1]]&&(y[r.state[0]][r.state[1]]=4,document.getElementById(`C${r.state[0]}-${r.state[1]}`).className="explored"),n.push(r.state);let s=F(r.state);yield M(0);for(let e=0;e<s.length;e++)if(!C(n,s[e])&&!t.containsState(s[e])){let n=new o.Nodes(s[e],r,r.state);t.add(n)}}}))}()})),e.manhattanDistance=function(t,e){return Math.abs(t[0]-e[0])+Math.abs(t[1]-e[1])}},561:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Nodes=void 0,e.Nodes=class{constructor(t,e,n){this.state=t,this.parent=e,this.action=n}}}},e={};!function n(r){var o=e[r];if(void 0!==o)return o.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,n),s.exports}(607)})();